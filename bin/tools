#!/usr/bin/env node

const fs = require('fs')
const path = require('path')
const dotenv = require('dotenv')
const program = require('commander')

// try to load the .env from the current directory
const env = path.join(process.cwd(), '.env')

if (fs.existsSync(env)) {
  dotenv.config({ path: env })
} else {
  console.warn(
    '\x1b[31m\n',
    'No .env configuration found, please run the workspace command',
    '\x1b[0m\n'
  )
}

// register all tools
const tools = {
  workspace: require('../tools/workspace')(program),
  uuids: require('../tools/uuids')(program)
}

const argv = program.parse(process.argv)

if (argv.args.length === 0) {
  program.help()
}
